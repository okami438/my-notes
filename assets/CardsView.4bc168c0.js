import{h as o,n as a,B as i,_ as l,F as _,D as d,r as m}from"./index.4e19d30f.js";const u=()=>o.httpRequest.get("notes"),p=n=>o.httpRequest.post("notes",n),f=n=>o.httpRequest.delete(`notes/${n}`);var s={getNotes:u,postNotes:p,deleteNotes:f},h="/my-notes/assets/Add.4cfe3fce.svg";const C={name:"AddFileComponent",components:{ButtonComponent:i},emits:["click"]};var v=function(){var t=this,e=t._self._c;return e("ButtonComponent",{attrs:{"with-shadow":"",rounded:""},on:{click:function(r){return t.$emit("click")}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("img",{attrs:{src:h,alt:"add"}})]},proxy:!0}])})},y=[],g=a(C,v,y,!1,null,"82aaab9c",null,null),b=g.exports;const w=[{id:"title",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438",value:"",type:"text",isShowLength:!0},{id:"content",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442",label:"\u0422\u0435\u043A\u0441\u0442 \u0437\u0430\u043C\u0435\u0442\u043A\u0438",value:"",type:"textarea"}];const x={name:"CardComponent",components:{ButtonComponent:i},emits:["refetch"],props:{item:Object},computed:{title(){return this.item&&(this.item.title===null||this.item.title===void 0)?"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A":this.item.title},content(){return this.item&&(this.item.content===null||this.item.content===void 0)?"\u0410 \u0442\u0430\u043A\u0436\u0435 \u044F\u0432\u043D\u044B\u0435 \u043F\u0440\u0438\u0437\u043D\u0430\u043A\u0438 \u043F\u043E\u0431\u0435\u0434\u044B \u0438\u043D\u0441\u0442\u0438\u0442\u0443\u0446\u0438\u043E\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C \u043E\u0431\u044A\u0435\u0434\u0438\u043D\u0435\u043D\u044B \u0432 \u0446\u0435\u043B\u044B\u0435 \u043A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u0441\u0435\u0431\u0435 \u043F\u043E\u0434\u043E\u0431\u043D\u044B\u0445.":this.item.content}},methods:{async fetchDelete(){try{await s.deleteNotes(this.item.id),this.$emit("refetch")}catch(n){console.error(n)}}}};var F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("header",[e("h4",[t._v(" "+t._s(t.title)+" ")])]),e("main",{staticClass:"card__inner"},[e("section",[e("span",{staticClass:"text-normal card__inner-text"},[t._v(" "+t._s(t.content)+" ")])]),e("section",{staticClass:"card__inner-section-button"},[e("ButtonComponent",{attrs:{label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"},on:{click:t.fetchDelete},scopedSlots:t._u([{key:"icon",fn:function(){return[e("img",{attrs:{src:l,alt:"delete"}})]},proxy:!0}])})],1)])])},$=[],D=a(x,F,$,!1,null,"b92f78d3",null,null),k=D.exports;const A={name:"CardsView",components:{CardComponent:k,ButtonComponent:i,FormRenderComponent:_,DialogComponent:d,AddFileComponent:b},data(){return{isShowDialog:!1,form:[],itemCard:[]}},created(){this.form=w},mounted(){this.fetchCards()},methods:{dialogVisibleFn(){this.isShowDialog=!this.isShowDialog},async fetchCards(){try{await s.getNotes().then(({data:n})=>{this.itemCard=n})}catch(n){console.error(n)}},async fetchAddCards(){try{await s.postNotes(m(this.form)),await this.fetchCards(),this.dialogVisibleFn()}catch(n){console.error(n)}}}};var R=function(){var t=this,e=t._self._c;return e("main",{staticClass:"main"},[t._l(t.itemCard,function(r,c){return e("section",{key:c,staticClass:"main__cards"},[e("CardComponent",{attrs:{item:r},on:{refetch:t.fetchCards}})],1)}),e("div",[t.isShowDialog?e("DialogComponent",{on:{close:t.dialogVisibleFn},scopedSlots:t._u([{key:"content",fn:function(){return[e("section",{staticClass:"main__inner"},[e("h2",[t._v("\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438")]),e("FormRenderComponent",{staticClass:"main__inner-form",attrs:{form:t.form}}),e("div",{staticClass:"main__inner-button"},[e("ButtonComponent",{attrs:{label:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"},on:{click:t.fetchAddCards}})],1)],1)]},proxy:!0}],null,!1,658062123)}):t._e()],1),e("div",{staticClass:"main__add-button"},[e("AddFileComponent",{on:{click:t.dialogVisibleFn}})],1)],2)},S=[],N=a(A,R,S,!1,null,"1d1df656",null,null),q=N.exports;export{q as default};
